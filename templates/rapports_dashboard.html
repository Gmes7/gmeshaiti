<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GÃ©nÃ©ration Rapports - GMES</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
        .header { background: #20c997; color: white; padding: 1rem 2rem; }
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 2rem 0; }
        .stat-card { background: white; padding: 1.5rem; border-radius: 10px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .btn { display: inline-block; padding: 0.5rem 1rem; background: #007bff; color: white; text-decoration: none; border-radius: 5px; margin: 0.5rem; }
        .btn-success { background: #20c997; }
        .rapport-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; }
        .rapport-card { background: white; padding: 1.5rem; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ“Š GÃ©nÃ©ration de Rapports GMES</h1>
        <p>ConnectÃ© en tant que: {{ current_user.prenom }} {{ current_user.nom }}</p>
        <a href="{{ url_for('deconnexion') }}" style="color: white;">DÃ©connexion</a>
    </div>

    <div class="container">
        <div class="stats">
            <div class="stat-card">
                <h3>ğŸ“ˆ Rapports GÃ©nÃ©rÃ©s</h3>
                <p style="font-size: 2rem; font-weight: bold;">{{ stats.rapports_generes|default(0) }}</p>
                <p>Ce mois</p>
            </div>
            <div class="stat-card">
                <h3>âœ… Exports RÃ©ussis</h3>
                <p style="font-size: 2rem; font-weight: bold;">{{ stats.export_reussis|default(0) }}</p>
                <p>Taux de succÃ¨s: 95%</p>
            </div>
            <div class="stat-card">
                <h3>ğŸš¨ Rapports Urgents</h3>
                <p style="font-size: 2rem; font-weight: bold;">{{ stats.rapports_urgents|default(0) }}</p>
                <p>En attente</p>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
            <!-- GÃ©nÃ©ration Rapports -->
            <div style="background: white; padding: 2rem; border-radius: 10px;">
                <h3>ğŸš€ GÃ©nÃ©rer Rapports</h3>
                <a href="{{ url_for('rapport_prets') }}" class="btn">ğŸ“‹ Rapport PrÃªts</a>
                <a href="{{ url_for('rapport_remboursements') }}" class="btn">ğŸ’³ Rapport Remboursements</a>
                <a href="{{ url_for('rapport_clients') }}" class="btn">ğŸ‘¥ Rapport Clients</a>
                <a href="{{ url_for('rapport_groupes') }}" class="btn">ğŸ‘¥ Rapport Groupes</a>
            </div>

            <!-- Export DonnÃ©es -->
            <div style="background: white; padding: 2rem; border-radius: 10px;">
                <h3>ğŸ“¤ Exporter DonnÃ©es</h3>
                <a href="{{ url_for('export_excel_prets') }}" class="btn btn-success">ğŸ“Š Excel - PrÃªts</a>
                <a href="{{ url_for('export_excel_clients') }}" class="btn btn-success">ğŸ“Š Excel - Clients</a>
                <a href="{{ url_for('export_pdf_rapport') }}" class="btn">ğŸ“„ PDF - Rapport Complet</a>
                <a href="{{ url_for('export_stats') }}" class="btn">ğŸ“ˆ Export Statistiques</a>
            </div>
        </div>

        <!-- Rapports RÃ©cents -->
        <div style="background: white; padding: 2rem; border-radius: 10px;">
            <h3>ğŸ•’ Rapports RÃ©cents</h3>
            <div class="rapport-grid">
                <div class="rapport-card">
                    <h4>ğŸ“‹ PrÃªts Mensuel</h4>
                    <p>GÃ©nÃ©rÃ©: Aujourd'hui 10:30</p>
                    <a href="#" class="btn">ğŸ“¥ TÃ©lÃ©charger</a>
                </div>
                <div class="rapport-card">
                    <h4>ğŸ’³ Remboursements</h4>
                    <p>GÃ©nÃ©rÃ©: Hier 15:45</p>
                    <a href="#" class="btn">ğŸ“¥ TÃ©lÃ©charger</a>
                </div>
                <div class="rapport-card">
                    <h4>ğŸ‘¥ Nouveaux Clients</h4>
                    <p>GÃ©nÃ©rÃ©: 02/01/2024</p>
                    <a href="#" class="btn">ğŸ“¥ TÃ©lÃ©charger</a>
                </div>
                <div class="rapport-card">
                    <h4>ğŸ“ˆ Performance</h4>
                    <p>GÃ©nÃ©rÃ©: 01/01/2024</p>
                    <a href="#" class="btn">ğŸ“¥ TÃ©lÃ©charger</a>
                </div>
            </div>
        </div>

        <!-- Rapports Programmes -->
        <div style="background: white; padding: 2rem; border-radius: 10px; margin-top: 2rem;">
            <h3>â° Rapports Programmes</h3>
            <p><strong>ğŸ“… Rapport Quotidien:</strong> 08:00 (PrÃªts & Remboursements)</p>
            <p><strong>ğŸ“… Rapport Hebdomadaire:</strong> Lundi 09:00 (Performance)</p>
            <p><strong>ğŸ“… Rapport Mensuel:</strong> 1er du mois 10:00 (Complet)</p>
            <a href="{{ url_for('programmer_rapports') }}" class="btn">âš™ï¸ Programmer Rapports</a>
        </div>
    </div>
</body>
</html>