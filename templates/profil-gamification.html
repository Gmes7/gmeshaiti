{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>ğŸ’ Gamification</h2>

    <!-- Section Niveau (dÃ©jÃ  prÃ©sente) -->
    <div class="card mb-4">
        <div class="card-body text-center">
            <h3>ğŸ† Mon niveau</h3>
            <!-- Votre code existant pour le niveau -->
        </div>
    </div>

    <!-- Grille des fonctionnalitÃ©s AVEC JAVASCRIPT -->
    <div class="row">
        <div class="col-md-6 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h1>ğŸ¯</h1>
                    <h5>DÃ©fis & objectifs</h5>
                    <p>Relevez des dÃ©fis pour gagner des points</p>
                    <button onclick="showDefis()" class="btn btn-primary">Voir les dÃ©fis</button>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h1>ğŸ</h1>
                    <h5>Mes rÃ©compenses</h5>
                    <p>Ã‰changez vos points contre des avantages</p>
                    <button onclick="showRecompenses()" class="btn btn-primary">Voir les rÃ©compenses</button>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h1>ğŸ“ˆ</h1>
                    <h5>Classement</h5>
                    <p>Comparez-vous aux autres membres</p>
                    <button onclick="showClassement()" class="btn btn-primary">Voir le classement</button>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h1>ğŸ†</h1>
                    <h5>Mes badges</h5>
                    <p>DÃ©bloquez des badges exclusifs</p>
                    <button onclick="showBadges()" class="btn btn-primary">Voir mes badges</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Section pour afficher le contenu dynamique -->
    <div id="content-display" class="card mt-4" style="display: none;">
        <div class="card-body">
            <div id="dynamic-content"></div>
            <button onclick="hideContent()" class="btn btn-secondary mt-3">â† Retour</button>
        </div>
    </div>
</div>

<script>
function showDefis() {
    document.getElementById('dynamic-content').innerHTML = `
        <h4>ğŸ¯ Vos DÃ©fis</h4>
        <div class="alert alert-info">
            <h5>Premier prÃªt</h5>
            <p>Obtenez votre premier prÃªt</p>
            <span class="badge bg-success">ğŸ 100 points</span>
        </div>
        <div class="alert alert-warning">
            <h5>Remboursement ponctuel</h5>
            <p>3 remboursements Ã  temps</p>
            <span class="badge bg-success">ğŸ 50 points</span>
            <span class="badge bg-primary">âœ… 2/3 terminÃ©s</span>
        </div>
    `;
    showContent();
}

function showRecompenses() {
    document.getElementById('dynamic-content').innerHTML = `
        <h4>ğŸ Vos RÃ©compenses Disponibles</h4>
        <div class="alert alert-success">
            <h5>RÃ©duction de taux 1%</h5>
            <p>300 points - <strong>âœ… Disponible</strong></p>
            <button class="btn btn-sm btn-success">Ã‰changer</button>
        </div>
        <div class="alert alert-secondary">
            <h5>Frais de dossier offerts</h5>
            <p>500 points - âŒ Points insuffisants</p>
        </div>
    `;
    showContent();
}

function showClassement() {
    document.getElementById('dynamic-content').innerHTML = `
        <h4>ğŸ“ˆ Classement</h4>
        <ol>
            <li>Marie Dupont - 850 points ğŸ¥‡</li>
            <li>Jean Martin - 720 points ğŸ¥ˆ</li>
            <li><strong>Vous - 650 points</strong> ğŸ¥‰</li>
            <li>Sophie Laurent - 580 points</li>
        </ol>
    `;
    showContent();
}

function showBadges() {
    document.getElementById('dynamic-content').innerHTML = `
        <h4>ğŸ† Vos Badges</h4>
        <div class="row">
            <div class="col-md-6">
                <h5>âœ… DÃ©bloquÃ©s</h5>
                <p>ğŸ¥‰ Bronze - Premier prÃªt</p>
                <p>â­ DÃ©butant - PremiÃ¨re connexion</p>
            </div>
            <div class="col-md-6">
                <h5>ğŸ”’ Ã€ dÃ©bloquer</h5>
                <p>ğŸ¥ˆ Argent - 5 remboursements</p>
                <p>ğŸ¥‡ Or - Score > 750</p>
            </div>
        </div>
    `;
    showContent();
}

function showContent() {
    document.getElementById('content-display').style.display = 'block';
    window.scrollTo(0, document.getElementById('content-display').offsetTop);
}

function hideContent() {
    document.getElementById('content-display').style.display = 'none';
}
</script>
{% endblock %}